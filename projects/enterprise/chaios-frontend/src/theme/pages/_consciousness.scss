// chAIos Consciousness Page Styles
// ================================
// Self-contained styles for consciousness analysis and visualization page
// Completely isolated from other page styles

// Page Container
// ==============
.consciousness-page {
  // Page-level variables (scoped to this page only)
  --consciousness-primary: #{$color-secondary-500};
  --consciousness-accent: #{$color-tertiary-400};
  --consciousness-bg: linear-gradient(135deg, 
    rgba(#{red($color-secondary-500)}, #{green($color-secondary-500)}, #{blue($color-secondary-500)}, 0.05) 0%,
    rgba(#{red($color-tertiary-400)}, #{green($color-tertiary-400)}, #{blue($color-tertiary-400)}, 0.03) 100%
  );

  min-height: 100vh;
  background: var(--consciousness-bg);
  position: relative;
  overflow-x: hidden;

  // Page-specific animations
  &.page-entering {
    animation: consciousness-page-enter 0.8s ease-out;
  }

  &.page-leaving {
    animation: consciousness-page-leave 0.5s ease-in;
  }

  // Consciousness Grid Layout
  &__grid {
    display: grid;
    grid-template-areas: 
      "header header header"
      "metrics visualization controls"
      "analysis analysis timeline"
      "footer footer footer";
    grid-template-columns: 300px 1fr 250px;
    grid-template-rows: auto 400px 300px auto;
    gap: golden-spacing(3);
    padding: golden-spacing(3);
    min-height: 100vh;

    @include tablet-up {
      grid-template-areas: 
        "header"
        "metrics"
        "visualization"
        "controls"
        "analysis"
        "timeline"
        "footer";
      grid-template-columns: 1fr;
      grid-template-rows: auto;
    }
  }

  // Header Section
  &__header {
    grid-area: header;
    @include consciousness-card;
    padding: golden-spacing(4);
    text-align: center;
    position: relative;

    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 100%;
      background: linear-gradient(45deg, 
        var(--consciousness-primary), 
        var(--consciousness-accent)
      );
      opacity: 0.05;
      border-radius: inherit;
    }

    h1 {
      @include golden-typography(2);
      color: var(--consciousness-primary);
      margin-bottom: golden-spacing(2);
      position: relative;
      z-index: 1;
    }

    .subtitle {
      color: $color-neutral-600;
      font-size: $font-size-lg;
      position: relative;
      z-index: 1;
    }

    .consciousness-indicator {
      position: absolute;
      top: golden-spacing(2);
      right: golden-spacing(2);
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: var(--consciousness-primary);
      @include consciousness-pulse;
    }
  }

  // Metrics Panel
  &__metrics {
    grid-area: metrics;
    @include consciousness-card;
    padding: golden-spacing(3);
    
    .metrics-title {
      @include golden-typography(1.2);
      color: var(--consciousness-primary);
      margin-bottom: golden-spacing(3);
      border-bottom: 2px solid rgba($color-secondary-500, 0.2);
      padding-bottom: golden-spacing(1);
    }

    .metric-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: golden-spacing(2) 0;
      border-bottom: 1px solid $color-neutral-100;

      &:last-child {
        border-bottom: none;
      }

      .metric-label {
        font-weight: 600;
        color: $color-neutral-700;
      }

      .metric-value {
        font-weight: 700;
        color: var(--consciousness-primary);
        font-variant-numeric: tabular-nums;
      }

      .metric-trend {
        margin-left: golden-spacing(1);
        
        &--up {
          color: $color-success;
          
          &::before {
            content: '↗';
          }
        }

        &--down {
          color: $color-error;
          
          &::before {
            content: '↘';
          }
        }

        &--stable {
          color: $color-neutral-500;
          
          &::before {
            content: '→';
          }
        }
      }
    }
  }

  // Visualization Area
  &__visualization {
    grid-area: visualization;
    @include consciousness-card;
    padding: golden-spacing(3);
    position: relative;
    overflow: hidden;

    .viz-container {
      width: 100%;
      height: 100%;
      position: relative;
      border-radius: $border-radius-md;
      background: radial-gradient(circle at center, 
        rgba(var(--consciousness-primary), 0.1) 0%,
        transparent 70%
      );
    }

    .golden-spiral {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 200px;
      height: 200px;
      @include golden-spiral-animation(15s);
    }

    .consciousness-waves {
      position: absolute;
      inset: 0;
      opacity: 0.3;
      
      &::before,
      &::after {
        content: '';
        position: absolute;
        border: 2px solid var(--consciousness-primary);
        border-radius: 50%;
        animation: consciousness-ripple 3s infinite;
      }

      &::before {
        top: 30%;
        left: 20%;
        width: 60px;
        height: 60px;
      }

      &::after {
        top: 60%;
        right: 25%;
        width: 80px;
        height: 80px;
        animation-delay: 1.5s;
      }
    }
  }

  // Controls Panel
  &__controls {
    grid-area: controls;
    @include consciousness-card;
    padding: golden-spacing(3);

    .controls-title {
      @include golden-typography(1.1);
      color: var(--consciousness-primary);
      margin-bottom: golden-spacing(3);
    }

    .control-group {
      margin-bottom: golden-spacing(3);

      .control-label {
        display: block;
        margin-bottom: golden-spacing(1);
        font-weight: 600;
        color: $color-neutral-700;
        font-size: $font-size-sm;
      }

      .control-input {
        @include input-base;
        
        &:focus {
          border-color: var(--consciousness-primary);
          @include consciousness-glow(var(--consciousness-primary), 0.3);
        }
      }

      .control-slider {
        width: 100%;
        height: 6px;
        background: $color-neutral-200;
        border-radius: $border-radius-full;
        outline: none;
        
        &::-webkit-slider-thumb {
          appearance: none;
          width: 20px;
          height: 20px;
          background: var(--consciousness-primary);
          border-radius: 50%;
          cursor: pointer;
          @include consciousness-glow(var(--consciousness-primary), 0.4);
        }
      }

      .control-toggle {
        display: flex;
        align-items: center;
        gap: golden-spacing(2);
        
        input[type="checkbox"] {
          width: 40px;
          height: 20px;
          appearance: none;
          background: $color-neutral-300;
          border-radius: $border-radius-full;
          position: relative;
          cursor: pointer;
          @include transition(background-color);

          &:checked {
            background: var(--consciousness-primary);
          }

          &::before {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 16px;
            height: 16px;
            background: white;
            border-radius: 50%;
            @include transition(transform);
          }

          &:checked::before {
            transform: translateX(20px);
          }
        }
      }
    }

    .control-buttons {
      display: flex;
      flex-direction: column;
      gap: golden-spacing(2);

      .btn {
        @include button-variant($color-secondary-500);
        width: 100%;
        font-size: $font-size-sm;
        padding: golden-spacing(2);
      }
    }
  }

  // Analysis Section
  &__analysis {
    grid-area: analysis;
    @include consciousness-card;
    padding: golden-spacing(3);

    .analysis-tabs {
      display: flex;
      border-bottom: 2px solid $color-neutral-100;
      margin-bottom: golden-spacing(3);

      .tab {
        flex: 1;
        padding: golden-spacing(2);
        text-align: center;
        cursor: pointer;
        color: $color-neutral-600;
        border-bottom: 2px solid transparent;
        @include transition(all);

        &:hover {
          color: var(--consciousness-primary);
          background: rgba($color-secondary-500, 0.05);
        }

        &.active {
          color: var(--consciousness-primary);
          border-bottom-color: var(--consciousness-primary);
          font-weight: 600;
        }
      }
    }

    .analysis-content {
      .data-table {
        width: 100%;
        border-collapse: collapse;

        th, td {
          padding: golden-spacing(2);
          text-align: left;
          border-bottom: 1px solid $color-neutral-100;
        }

        th {
          background: rgba($color-secondary-500, 0.05);
          font-weight: 600;
          color: var(--consciousness-primary);
        }

        tbody tr {
          @include transition(background-color);

          &:hover {
            background: rgba($color-secondary-500, 0.03);
          }
        }
      }
    }
  }

  // Timeline Section
  &__timeline {
    grid-area: timeline;
    @include consciousness-card;
    padding: golden-spacing(3);

    .timeline-container {
      position: relative;
      max-height: 250px;
      overflow-y: auto;

      .timeline-item {
        position: relative;
        padding-left: golden-spacing(4);
        margin-bottom: golden-spacing(3);

        &::before {
          content: '';
          position: absolute;
          left: 0;
          top: 4px;
          width: 12px;
          height: 12px;
          background: var(--consciousness-primary);
          border-radius: 50%;
          @include consciousness-glow(var(--consciousness-primary), 0.3);
        }

        &::after {
          content: '';
          position: absolute;
          left: 5px;
          top: 16px;
          bottom: -#{golden-spacing(3)};
          width: 2px;
          background: linear-gradient(to bottom, 
            var(--consciousness-primary), 
            transparent
          );
        }

        &:last-child::after {
          display: none;
        }

        .timeline-time {
          font-size: $font-size-xs;
          color: $color-neutral-500;
          font-weight: 600;
        }

        .timeline-content {
          margin-top: golden-spacing(1);
          color: $color-neutral-700;
        }
      }
    }
  }

  // Footer
  &__footer {
    grid-area: footer;
    text-align: center;
    padding: golden-spacing(2);
    color: $color-neutral-500;
    font-size: $font-size-sm;
  }
}

// Consciousness-specific animations
// ================================
@keyframes consciousness-page-enter {
  0% {
    opacity: 0;
    transform: scale(0.95) translateY(20px);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes consciousness-page-leave {
  0% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
  100% {
    opacity: 0;
    transform: scale(0.95) translateY(-20px);
  }
}

@keyframes consciousness-ripple {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  100% {
    transform: scale(2);
    opacity: 0;
  }
}

// Responsive overrides for consciousness page
// ===========================================
@include mobile-only {
  .consciousness-page__grid {
    padding: golden-spacing(2);
    gap: golden-spacing(2);
  }

  .consciousness-page__header {
    padding: golden-spacing(3);
    
    h1 {
      font-size: $font-size-xl;
    }
  }

  .consciousness-page__metrics,
  .consciousness-page__controls {
    padding: golden-spacing(2);
  }
}

// Dark mode overrides (consciousness page specific)
// =================================================
@media (prefers-color-scheme: dark) {
  .consciousness-page {
    --consciousness-bg: linear-gradient(135deg, 
      rgba(#{red($color-secondary-500)}, #{green($color-secondary-500)}, #{blue($color-secondary-500)}, 0.1) 0%,
      rgba(#{red($color-tertiary-400)}, #{green($color-tertiary-400)}, #{blue($color-tertiary-400)}, 0.05) 100%
    );

    background: var(--consciousness-bg);

    .consciousness-page__header::before {
      opacity: 0.1;
    }
  }
}
